# 7장_문자열_검색

## 브루트포스

- 단순하게 처음부터 찾아나가는 알고리즘
- 맞는지 확인 하고 틀리다면 다음으로 이동, 일치하면 리턴
- 전체 문자열 중 특정 패턴과 일치하는 부분 찾는 경우
- 문자 수가 n인 s1에서 문자 수가 m인 패턴 s2을 검색하는 데
    
    시간복잡도 O(nm) 거의 대부분 O(n)

<br>

**자바에서의 String**

[java.lang 패키지](https://docs.oracle.com/javase/7/docs/api/java/lang/package-summary.html)의 String클래스

문자열 리터럴은 String 인스턴스이다.

String클래스는 문자열을 넣기 위한 문자배열을 비공개 필드로 가진다.

따라서 우리는 문자배열을 가지는 문자열 리터럴을 참조하는 형태로 문자열을 이용한다.

```
s → 문자열 리터럴[비공개 문자배열 필드]
```

<br>

**제공 메소드들**

- s.length() → 문자열 s의 길이를 리턴
- s.charAt(i) → 문자열 s의 인덱스 i에 있는 문자를 리턴
- s.substring(begin, end) → 문자열 s에서 인덱스 begin부터 end-1까지의 문자열을 리턴
- s.equals(s2) → s와 s2의 값이 같으면 true 다르면 false 리턴, Object클래스의 객체비교방법
- s.comapreTo(s2) → 사전순으로 s와 s2를 비교하고 s가 작다면 음의정수, s가 크면 양의정수, 같으면 0을 리턴
- s.indexOf(searchString, (fromIndex)) → 문자열 s 안에 searchString이 포함되면 인덱스 리턴, 실패 시 -1 리턴, fromIndex를 인수로 주어 탐색시작하는 인덱스를 따로 줄 수 있음
- s.lastIndexOf(searchString, (fromIndex)) → indexOf()랑 비슷한 기능이지만 가장 뒤에 위치하는 문자열을 검색

cf. [전각문자.반각문자](https://ko.wikipedia.org/wiki/%EC%A0%84%EA%B0%81_%EB%AC%B8%EC%9E%90%EC%99%80_%EB%B0%98%EA%B0%81_%EB%AC%B8%EC%9E%90), 자바에서는 반각문자를 1바이트 바이트 배열로 전각문자는 2바이트 바이트배열로 변환한다, 영문은 반각 한글은 전각

---

## KMP법

브루트포스는 1칸 씩 옮기며 비효율적인 비교를 했다.

이와 달리 KMP는 비교한 결과를 사용하는 알고리즘이다.

- 비교를 하면서 만약 일치하지 않는다면 지금까지 일치했던 요소 중 중간부터 검사를 시작할 수 있는 부분을 찾아 시작한다.
- 패턴에서 중복되는 문자열을 찾고 전체 문자열에서 다음 검사를 한번에 건너뛰어 더 효율적으로 한다.
- 책에서는 패턴 문자열 서로 대조해서 중복되는 문자열을 찾고 각 인덱스 마다 검사를 다시 시작해야하는 인덱스를 저장한 배열을 만든다.
- 표를 만들어서 다음 검사시작점을 지정해 놓아서 포인터가 뒤로 되돌아오는 경우가 없다.
- 문자 수가 n인 s1에서 문자 수가 m인 패턴 s2을 검색하는 데
    
    시간복잡도 O(n)
    
    처리 복잡하고 반복요소 없으면 굳이 필요없는 느낌

<br>
    

---

## 보이어 무어법

널리 사용된다.

- 패턴의 마지막 문자부터 앞쪽으로 검사하면서 일치하지 않는 문자가 나오면 그 문자에 영향을 받지 않는 범위로 옮길 수 있도록 한다.
- 영향을 받지 않는 범위란 일치하지 않는 문자로부터 패턴의 길이만큼 멀어지도록 하는 것이다.
- kmp와 비슷하게 옮길 크기에 대한 표를 만든다.
    - 패턴에 들어있지 않은 문자 만나면 n만큼 옮김
    - 패턴에 들어있는 문자 만날 경우
        - 중복해서 포함되어 있고 존재하는 문자의 마지막 인덱스가 k라면 n-k-1(패턴 문자열 시작하는 인덱스+1), 중복해서 들어있지 않은 경우 n
- 문자 수가 n인 s1에서 문자 수가 m인 패턴 s2을 검색하는 데
    
    시간복잡도 O(n), 평균 O(n/m)
    
<br>

---

대부분 String 클래스의 indexOf()를 사용한다.

라이브러리 사용 하지 않을 경우 브루트포스나 보이어무어 사용하기도 한다.